[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I completed my undergrad education on Biostatistics in UC SanDiego, where I devoted the bulk of my undergraduate extracurricular time to the development of analysis programs for neuro-fluorescence data.\nCurrently I am a 1st Year ScM Biostatistics students at JHSPH. I am interested in the modelling of infectious disease transmission. But I will happily engage other research directions that involves the development of novel computational methods."
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Example Analysis",
    "section": "",
    "text": "Data\nMotor trend cars data from the ISLR package. source(RDRR, n.d.)\nThe data came from the StatLib library of the Carnegie Mellon University\nThe original dataset Auto (which I copied into a variable cars_data in my analysis) has the following fields:\n\n\n\n\n\n\n\nFields\ndescription\n\n\n\n\nmpg\nmiles per gallon fuel consumption\n\n\ncylinders\nnumber of engine cylinders\n\n\ndisplacement\nengine displacement in cubic inches\n\n\nhorsepower\nengine horsepower\n\n\nweight\nvehicle weight in lbs\n\n\nacceleration\n0 - 60 acceleration time\n\n\nyear\nyear of manufacture\n\n\norigin\norigin of car (1: american, 2: european, 3:japanese)\n\n\nname\nname of car\n\n\n\n\n\nWrangling\nFirst extract the make of the car from the name column, it seems like that is the first token.\nThen manually factor the make by the region the makers are from, I divided the origin of the makes to Japanese, European, US and others.\n\nlibrary(ISLR)\nlibrary(dplyr)\n\n\n载入程辑包：'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(stringr)\nlibrary(tidyr)\nlibrary(forcats)\n\ncars_data <- Auto \ncars_data <- cars_data %>% \n  mutate(name = str_replace(name, \" \", \"$\")) %>% \n  separate(name, into = c(\"brand\", \"name\"), sep = \"\\\\$\")\n\nWarning: Expected 2 pieces. Missing pieces filled with `NA` in 2 rows [149,\n343].\n\ncars_data <- cars_data %>% drop_na()\n  \njapanese_brand = c(\"toyota\", \"toyouta\", \"honda\", \"mazda\", \"maxda\", \"nissan\", \"subaru\")\neuropean_brand = c(\"bmw\", \"volkswagen\", \"mercedes\", \"mercedes-benz\", \"vw\", \"audi\", \"fiat\", \"peugeot\", \"renault\", \"volvo\")\nus_brand = c(\"chevrolet\", \"chevroelt\", \"chevy\", \"buick\", \"amc\", \"ford\", \"dodge\", \"chrysler\", \"cadillac\")\n\ncars_data <- cars_data %>% \n  mutate(region_of_make = \n           fct_collapse(brand, \n                        japanese = japanese_brand, \n                        european = european_brand, \n                        us = us_brand,\n                        other_level = \"other\")) \n\n\n\nHorsepower\nFirst let’s look at the distribution of car horsepower\n\nlibrary(ggplot2)\ncars_data %>% ggplot(aes(x=horsepower)) + geom_histogram(binwidth=20) + \n  facet_grid(region_of_make~.) + \n  labs(title=\"Distribution of engine horsepowers \", \n       subtitle = \"faceted by regions of make, binsize = 20\",\n       caption = \"The major european and japanese makers seemed very uninterested in making cars with >150 horsepower. The dataset documents mostly cars by U.S. manufacturers.\") +\n  ylab(\"Count\") +\n  xlab(\"Engine Horsepower\")\n\n\n\n\n\n\n\n\n\n\nDisclaimer\n\n\n\nThe dataset does not seem to be anywhere close to a comprehensive dataset of automobiles in the 1970s to 1980s. So any trend oberserved here may be due to a selection bias.\n\n\n\n\nPower to Displacement Ratio\nIn addition to the horsepower and displacement data originally from the data set, compute the horsepower to displacement ratio, which is essentially an indicator of how efficient the engines are.\n\n\n\nThe volume in red is the engine displacement\n\n\n\ncars_data <- cars_data %>% \n  mutate(power_per_displacement = horsepower/displacement)\n\ngroup_statistics <- cars_data %>% group_by(region_of_make) %>% \n  summarize(mean_cyl_count = mean(cylinders),\n            mean_displacement = mean(displacement), \n            mean_power_to_displacement_ratio = mean(power_per_displacement),\n            mean_mpg = mean(mpg))  \n\ngroup_statistics\n\n# A tibble: 4 × 5\n  region_of_make mean_cyl_count mean_displacement mean_power_to_displa…¹ mean_…²\n  <fct>                   <dbl>             <dbl>                  <dbl>   <dbl>\n1 us                       6.26              247.                  0.512    19.8\n2 european                 4.19              109.                  0.729    27.8\n3 japanese                 4.04              102.                  0.779    30.2\n4 other                    5.63              204.                  0.609    23.6\n# … with abbreviated variable names ¹​mean_power_to_displacement_ratio,\n#   ²​mean_mpg\n\n\n\ncars_data %>% ggplot(aes(x = horsepower, y=power_per_displacement, color=region_of_make)) + geom_point(aes(size=mpg), alpha=0.5) + \n  labs(title=\"Horsepower vs. Power to Displacement ratio\", \n       subtitle = \"Colored by region of manufacturer\",\n       caption = \"The major U.S. cars typically has much higher horsepower that is not achieved by engineering for higher power to displacement ratio. Also make note of the outliers at the top\") +\n  ylab(\"Power to Displacement Ratio (Horsepower/Displacement)\") +\n  xlab(\"Horsepower\")\n\n\n\n\nFrom the horsepower vs. power-to-displacement ratio plot, we can see that the US car makers are all about ramping up horsepowers but fall behind on engine efficiency.\nThe rest of the car makers seemed to be making similar cars with mediocre horsepower and good power-to-displacement ratio. It is also inferrable from the plot that power-to-displacement ratio generally correlates with MPG, an indicator of fuel economy, which makes sense.\n\n\n\n\n\n\nNote\n\n\n\nNotably, there are 4 cars on the top of the plot that appear to have insanely high power-to-displacement ratio when compared to others. These are the Mazda Rx sport cars with rotary engines (as opposed to the traditional piston and cylinder engines). Rotary engines are known for their deceivingly small displacement size (they can consume more fuel than a traditional piston engine with 2-3 times its displacement), which can be seen on the plot that they had no different mpgs compared to other japanese and european cars. Perhaps rotary engine cars should be excluded from the analysis?\n\n\n\n\nPower to Mass Ratio\nPower to mass ratio is a good indicator of a car’s ability to accelerate fast, since having more power from the engine per unit weight of the car will help it overcome the inertia when the car is at a complete stop.\n\nlibrary(ggplot2)\n\ncars_data %>% \n  mutate(power_to_mass = horsepower/weight) %>%\n  ggplot(aes(x=power_to_mass, y= acceleration)) +\n  geom_point(aes(color=region_of_make)) +\n  geom_smooth(formula = y ~ x, method = \"lm\") +\n  theme(legend.position = 'bottom') +\n  ylab(\"0 to 60 mph Acceleration Time\") + \n  xlab(\"Power to Mass Ratio\") + \n  labs(title=\"Power to Mass vs Acceleration Time\",\n       subtitle=\"Negative correlation can be observed\")\n\nmodel <- cars_data %>% \n  mutate(power_to_mass = horsepower/weight) %>% lm(formula = acceleration ~ power_to_mass)\nsummary(model)\n\n\nCall:\nlm(formula = acceleration ~ power_to_mass, data = .)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.3079 -1.3019 -0.1307  1.0270  7.4830 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)     27.443      0.565   48.57   <2e-16 ***\npower_to_mass -341.869     15.991  -21.38   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.875 on 388 degrees of freedom\nMultiple R-squared:  0.5408,    Adjusted R-squared:  0.5397 \nF-statistic:   457 on 1 and 388 DF,  p-value: < 2.2e-16\n\n\n\n\n\n\nFigure 1: Power to Mass ratio vs. Acceleration time(lower is faster), colored by region of maker.\n\n\n\nSeeing the margin plot and the summary of the fitted linear model(RDocumentation, n.d.), it is not to tell that the power to mass ratio is negatively correlated with the time it takes for a car to accelerate from 0 to 60mph (so positive correaltion with the ability to accelerate).\n\n\nDoes engine efficiency improve over the 10 years or so?\nAlthough MPG is an direct indication of fuel economy, it is not an good indicator for engine efficiency because improvements in mileage can come from both increased engine efficiency and other factors like building lighter cars or making them more aerodynamic.\nThe peak power to engine displacement ratio is considered to be a metric for engine efficiency(DeCicco 2010). It can be considered as a ratio of the power output of the engine (usually measured in Kw) to fuel consumption per engine cycle (which is proportional to the engine displacement).\n\ncars_data <- cars_data %>% \n  mutate(power_per_displacement = horsepower/displacement)\n\ncars_data %>% group_by(year, region_of_make) %>%\n  summarize(mean_cyl_count = mean(cylinders),\n            mean_displacement = mean(displacement), \n            mean_power_to_displacement_ratio = mean(power_per_displacement),\n            sd_power_to_displacement_ratio = sd(power_per_displacement),\n            mean_mpg = mean(mpg)) %>% \n  ggplot(aes(x = year, y=mean_power_to_displacement_ratio, color=region_of_make)) + \n  geom_point(aes(size=mean_mpg), alpha=0.3) + \n  geom_line() +\n  geom_errorbar(aes(ymin=mean_power_to_displacement_ratio-sd_power_to_displacement_ratio, ymax=mean_power_to_displacement_ratio+sd_power_to_displacement_ratio)) + facet_grid(region_of_make~.) + \n  labs(title=\"Trends in Power to Displacement ratio over time\", \n       subtitle = \"Faceted by Region\",\n       caption = str_wrap(\"There is a slight increase in the mean Power to Displacement ratio by the US manufactures. We also observe a general decrease in that ratio for European and Japanese cars\")) +\n  ylab(\"Mean Power to Displacement Ratio (Horsepower/Displacement)\") +\n  xlab(\"Year\") +\n  theme(plot.caption = element_text(hjust = 0))\n\n`summarise()` has grouped output by 'year'. You can override using the\n`.groups` argument.\n\n\n\n\n\nHere we do observe a very slight increase in Power to Displacement ratio by the US makers, rising from around 0.5 in 1970 to around 0.6 in 1982. On the other hand, the Power to Displacement ratio of European and Japanese cars have fallen since 1970. It is noteworthy still that by 1982, the both the European cars and the Japanese cars still have higher Power to Displacement Ratio compared to the US cars desipte the decline.\nAlso quite interestingly, here the Power to Displacement ratio alone does not seem to correlate with mpg well enough. While we do see a stead increase in both Power to Displacement and mpg in the US cars, the mpg for the European and Japanese cars increased despite the decline in Power to Displacement ratio (perhaps through the improvement of aerodynamics or weight reduction).\n\n\nResults Summary\nDuring the 1970s and early 1980s, the US makers alone produces high horsepower (> 150hp) cars. During this period we also see that the US cars generally has less Power to Displacement ratio compared to European and Japanese cars. We also established that the higher Power to Mass ratio meant higher capability to accelerate. At last we observed an improvement in US car Power to Displacement ratio along with mileage improvements, but the Europeans and Japanese cars are nontheless still more efficient.\n\n\nFunctions used\n\nmutate\nseparate\ndrop_na\ngroup_by\nsummarize\ngeom_histogram\ngeom_point\ngeom_line\n\n\n\n\n\n\nReferences\n\nDeCicco, John. 2010. “A Fuel Efficiency Horizon for u.s. Automobiles,” October.\n\n\nRDocumentation. n.d. “Lm: Fitting Linear Models.” https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/lm.\n\n\nRDRR. n.d. “Auto: Auto Data Set.” https://rdrr.io/cran/ISLR/man/Auto.html."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Home page",
    "section": "",
    "text": "I am Weishan Li. I came from Shanghai, China. After finishing high school there, I went to the U.S for college. In my spare times I play computer games.\nRecently I am enjoying putting together this split keyboard kit which is ergonomic-wise better for typing."
  }
]